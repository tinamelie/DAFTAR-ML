2025-05-11 12:04:00,208 - INFO - Logging to file: /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/DAFTAR-ML_20250511_120400.log
2025-05-11 12:04:00,208 - INFO - Starting DAFTAR-ML pipeline
2025-05-11 12:04:00,208 - INFO - Command: daftar --input /Users/Melie/Documents/Xylose_CAI_orthofinder_binary_preprocessed_MI500_classif.csv --target Xylose --id ID --inner 2 --outer 2 --repeats 1 --patience 2 --model xgb --metric roc_auc --force --stratify false
2025-05-11 12:04:00,208 - INFO - Loading data from /Users/Melie/Documents/Xylose_CAI_orthofinder_binary_preprocessed_MI500_classif.csv
2025-05-11 12:04:00,240 - INFO - Using KFold for classification task
2025-05-11 12:04:00,240 - INFO - Processing fold 1/2
2025-05-11 12:04:00,242 - INFO - A new study created in memory with name: no-name-1f80a0db-469b-4e8e-83fa-f9e763c83304
2025-05-11 12:04:00,682 - INFO - Trial 0 finished with value: -1.0 and parameters: {'n_estimators': 213, 'max_depth': 8, 'learning_rate': 0.2982350264672263, 'subsample': 0.826767860530186, 'colsample_bytree': 0.6169119986129449, 'min_child_weight': 1}. Best is trial 0 with value: -1.0.
[I 12:04:00] Trial 0 finished with value: 1.0 and parameters: {'n_estimators': 213, 'max_depth': 8, 'learning_rate': 0.2982350264672263, 'subsample': 0.826767860530186, 'colsample_bytree': 0.6169119986129449, 'min_child_weight': 1}. Best is trial 0 with value: 1.0.
[Trial 0] First trial: Score = 1.0000, patience counter = 0/2
2025-05-11 12:04:02,534 - INFO - Trial 1 finished with value: -1.0 and parameters: {'n_estimators': 743, 'max_depth': 6, 'learning_rate': 0.06517537831795789, 'subsample': 0.7747320659600754, 'colsample_bytree': 0.6094728151431641, 'min_child_weight': 1}. Best is trial 0 with value: -1.0.
[I 12:04:02] Trial 1 finished with value: 1.0 and parameters: {'n_estimators': 743, 'max_depth': 6, 'learning_rate': 0.06517537831795789, 'subsample': 0.7747320659600754, 'colsample_bytree': 0.6094728151431641, 'min_child_weight': 1}. Best is trial 0 with value: 1.0.
[Trial 1] No improvement: Current = 1.0000, Best = 1.0000, patience counter = 1/2
2025-05-11 12:04:03,211 - INFO - Trial 2 finished with value: -1.0 and parameters: {'n_estimators': 718, 'max_depth': 7, 'learning_rate': 0.23436665199350928, 'subsample': 0.6206563290873389, 'colsample_bytree': 0.6190147832589761, 'min_child_weight': 4}. Best is trial 0 with value: -1.0.
[I 12:04:03] Trial 2 finished with value: 1.0 and parameters: {'n_estimators': 718, 'max_depth': 7, 'learning_rate': 0.23436665199350928, 'subsample': 0.6206563290873389, 'colsample_bytree': 0.6190147832589761, 'min_child_weight': 4}. Best is trial 0 with value: 1.0.
[Trial 2] No improvement: Current = 1.0000, Best = 1.0000, patience counter = 2/2
[Trial 2] Early stopping triggered: no significant improvement for 2 consecutive trials
[Fold 1] Best model saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_1/best_model_fold_1.pkl
[Fold 1] Predictions vs Actual CSV saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_1/predictions_vs_actual_fold_1.csv
2025-05-11 12:04:03,989 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-11 12:04:03,992 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
[Fold 1] Distribution histogram saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_1/fold_1_distribution.png
[Fold 1] Samples list saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_1/fold_1_samples.csv
2025-05-11 12:04:04,076 - INFO - Completed fold 1
2025-05-11 12:04:04,112 - INFO - Processing fold 2/2
2025-05-11 12:04:04,114 - INFO - A new study created in memory with name: no-name-ed884cca-e097-4e66-a337-d5d2f0fcc7f7
2025-05-11 12:04:05,105 - INFO - Trial 0 finished with value: -1.0 and parameters: {'n_estimators': 866, 'max_depth': 10, 'learning_rate': 0.28631257130250437, 'subsample': 0.9375706034243811, 'colsample_bytree': 0.7743986774807111, 'min_child_weight': 4}. Best is trial 0 with value: -1.0.
[I 12:04:05] Trial 0 finished with value: 1.0 and parameters: {'n_estimators': 866, 'max_depth': 10, 'learning_rate': 0.28631257130250437, 'subsample': 0.9375706034243811, 'colsample_bytree': 0.7743986774807111, 'min_child_weight': 4}. Best is trial 0 with value: 1.0.
[Trial 0] First trial: Score = 1.0000, patience counter = 0/2
2025-05-11 12:04:05,759 - INFO - Trial 1 finished with value: -1.0 and parameters: {'n_estimators': 528, 'max_depth': 8, 'learning_rate': 0.101785567082945, 'subsample': 0.7187094632839108, 'colsample_bytree': 0.8061640185611785, 'min_child_weight': 5}. Best is trial 0 with value: -1.0.
[I 12:04:05] Trial 1 finished with value: 1.0 and parameters: {'n_estimators': 528, 'max_depth': 8, 'learning_rate': 0.101785567082945, 'subsample': 0.7187094632839108, 'colsample_bytree': 0.8061640185611785, 'min_child_weight': 5}. Best is trial 0 with value: 1.0.
[Trial 1] No improvement: Current = 1.0000, Best = 1.0000, patience counter = 1/2
2025-05-11 12:04:06,226 - INFO - Trial 2 finished with value: -0.9999732877444172 and parameters: {'n_estimators': 538, 'max_depth': 5, 'learning_rate': 0.16394092546640324, 'subsample': 0.5329724233139057, 'colsample_bytree': 0.5326950424521463, 'min_child_weight': 6}. Best is trial 0 with value: -1.0.
[I 12:04:06] Trial 2 finished with value: 0.9999732877444172 and parameters: {'n_estimators': 538, 'max_depth': 5, 'learning_rate': 0.16394092546640324, 'subsample': 0.5329724233139057, 'colsample_bytree': 0.5326950424521463, 'min_child_weight': 6}. Best is trial 0 with value: 1.0.
[Trial 2] No improvement: Current = 0.999973, Best = 1.0000, patience counter = 2/2
[Trial 2] Early stopping triggered: no significant improvement for 2 consecutive trials
[Fold 2] Best model saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_2/best_model_fold_2.pkl
[Fold 2] Predictions vs Actual CSV saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_2/predictions_vs_actual_fold_2.csv
2025-05-11 12:04:07,097 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-11 12:04:07,098 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
[Fold 2] Distribution histogram saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_2/fold_2_distribution.png
[Fold 2] Samples list saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_2/fold_2_samples.csv
2025-05-11 12:04:07,164 - INFO - Completed fold 2
2025-05-11 12:04:07,201 - INFO - Saving results to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1
2025-05-11 12:04:07,201 - INFO - Generating basic visualizations...
2025-05-11 12:04:07,201 - INFO - Performing SHAP analysis (signed, focusing on positive/negative impact)...
Starting Mean SHAP analysis with focus on positive and negative impact...
Creating sample-level SHAP beeswarm plot...
Creating fold-level SHAP beeswarm plot...
Generating sample-level SHAP bar plot...
Sample-level SHAP bar plot saved.
Generating fold-level SHAP bar plot with cross-validation whiskers...
Fold-level SHAP bar plot saved.
Calculating SHAPâ€‘target correlations...
Saving SHAP analysis to CSV...
2025-05-11 12:04:08,875 - INFO - Saving SHAP-based features summary...
Important features summary saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/shap_features_summary.txt
2025-05-11 12:04:08,878 - INFO - Saving feature importance values...
[Fold 1] Feature importance values saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_1/feature_importance_fold_1.csv
[Fold 2] Feature importance values saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_2/feature_importance_fold_2.csv
Fold-level feature importance saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/feature_importance/feature_importance_values_fold.csv
Warning: No sample-level importance values found for fold 1
Warning: No sample-level importance values found for fold 2
Creating differentiated sample-level importance using bootstrapping
Sample-level feature importance saved to /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/feature_importance/feature_importance_values_sample.csv
2025-05-11 12:04:09,372 - INFO - Creating fold-level feature importance bar plot...
Generating Fold-Level feature importance bar plot (top 25 features)...
Fold-Level feature importance bar plot saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/feature_importance/feature_importance_bar_fold.png
2025-05-11 12:04:09,582 - INFO - Creating sample-level feature importance bar plot...
Generating Sample-Level feature importance bar plot (top 25 features)...
Sample-Level feature importance bar plot saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/feature_importance/feature_importance_bar_sample.png
2025-05-11 12:04:09,736 - INFO - Generating predictions and confusion matrices...
[Fold 1] Predictions vs Actual CSV saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_1/predictions_vs_actual_fold_1.csv
Confusion matrix saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_1/confusion_matrix_fold_1.png
[Fold 2] Predictions vs Actual CSV saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_2/predictions_vs_actual_fold_2.csv
Confusion matrix saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/fold_2/confusion_matrix_fold_2.png
Confusion matrix saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/confusion_matrix_global.png
Global confusion matrix saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/confusion_matrix_global.png
Overall predictions vs actual CSV saved at /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1/predictions_vs_actual_overall.csv
2025-05-11 12:04:10,364 - INFO - Analysis complete.
2025-05-11 12:04:10,365 - INFO - Pipeline completed successfully
DAFTAR-ML analysis completed successfully.
Results saved to: /Users/Melie/Documents/DAFTAR-ML/DAFTAR-ML_Xylose_xgboost_classification_cv2x2x1

================================================================================

To reproduce this run in the future, use:
daftar --input /Users/Melie/Documents/Xylose_CAI_orthofinder_binary_preprocessed_MI500_classif.csv --target Xylose --model xgb --outer 2 --inner 2 --repeats 1 --metric roc_auc --patience 2 --threshold 0.001 --stratify false --id ID --seed 42
